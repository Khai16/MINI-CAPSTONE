<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard | PHINMA UI iCare</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboardAdmin.css') }}">
</head>
<body>

<div class="dashboard-wrapper">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-header">
     <img src="{{ url_for('static', filename='images/headerLogo.jpg') }}" alt="Header Logo">
      <img src="{{ url_for('static', filename='images/iCareLogo.jpg') }}" alt="iCare Logo">
      <h2>Phinma UI iCare Admin</h2>
    </div>

    <ul class="sidebar-nav">
      <li><a href="{{ url_for('dashboardAdmin_page') }}"></i> Dashboard</a></li>
      <li><a href="{{ url_for('admin_users') }}"><i class="fa-solid fa-user-group"></i> Users</a></li>
      <li><a href="{{ url_for('admin_consultations') }}"><i class="fa-solid fa-comments"></i> Consultations</a></li>
      <li><a href="{{ url_for('admin_feedback') }}"><i class="fa-solid fa-star"></i> Feedback</a></li>
    </ul>

    <div class="sidebar-footer">
      <img src="{{ url_for('static', filename='images/admin_profile.png') }}" alt="Admin Profile">
      <div>
        <p class="admin-name">{{ admin_name }}</p>
        <a href="{{ url_for('logout') }}" class="logout-link"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
      </div>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">

    {% if not view %}
   <main class="main-content">
      <section class="hero">
        <h1>Welcome back, {{ admin_name }}!</h1>
        <h2>Hereâ€™s your system overview</h2>
       </section>
      
       <section class="stats-container">
          <div class="stat-card">
            <p class="stat-title">Total Users</p>
            <p class="stat-number">{{ total_users }}</p>
          </div>
          <div class="stat-card">
            <p class="stat-title">Total Feedback</p>
            <p class="stat-number">{{ total_feedback }}</p>
          </div>
          <div class="stat-card">
            <p class="stat-title">Total Consultations</p>
            <p class="stat-number">{{ total_consultations }}</p>
          </div>
        </section>
    </main>
    {% endif %}

    <!-- === ðŸ‘‡ ADD YOUR CONDITIONAL TABLES RIGHT HERE ðŸ‘‡ === -->
    {% if view == 'users' %}
    <section class="table-container">
      <h2 >Registered Users</h2>
      <table class="admin-table">
        <thead>
          <tr><th>ID</th><th>Name</th><th>Gender</th><th>Email</th></tr>
        </thead>
        <tbody>
          {% for u in users %}
          <tr>
            <td>{{ u.user_id }}</td>
            <td>{{ u.name }}</td>
            <td>{{ u.gender }}</td>
            <td>{{ u.email }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    {% elif view == 'consultations' %}
    <section class="table-container">
      <h2>Consultation Records</h2>
      <table class="admin-table">
        <thead>
          <tr><th>ID</th><th>Name</th><th>Role</th><th>Mood</th><th>Symptom</th><th>Urgency</th><th>Contact</th></tr>
        </thead>
        <tbody>
          {% for c in consultations %}
          <tr>
            <td>{{ c.consult_id }}</td>
            <td>{{ c.name }}</td>
            <td>{{ c.role }}</td>
            <td>{{ c.mood }}</td>
            <td>{{ c.symptom }}</td>
            <td>{{ c.pain }}</td>
            <td>{{ c.contact }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    {% elif view == 'feedback' %}
    <section class="table-container">
      <h2>Feedback Submissions</h2>
      <table class="admin-table">
        <thead>
          <tr><th>ID</th><th>Name</th><th>Email</th><th>Rating</th><th>Feedback</th></tr>
        </thead>
        <tbody>
          {% for f in feedback %}
          <tr>
            <td>{{ f.id }}</td>
            <td>{{ f.name }}</td>
            <td>{{ f.email }}</td>
            <td>{{ f.rating }}</td>
            <td>{{ f.feedback }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
    {% endif %}
    <!-- === END OF CONDITIONAL TABLES === -->

  </main>

</div>

<footer>
  <p>&copy; 2025 PHINMA University of Iloilo iCare System | All Rights Reserved.</p>
</footer>

</body>
</html>
